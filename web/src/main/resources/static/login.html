<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">
    <link href="css/toastr.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <script src="js/jquery-3.3.1.min.js" type="text/javascript"></script>
    <script src="js/jquery.js" type="text/javascript"></script>
    <script src="js/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/common.js" type="text/javascript"></script>
    <script src="js/head.js" type="text/javascript"></script>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <script src="js/toastr.min.js" type="text/javascript"></script>
</head>
<body>
<div style="position: absolute;width: 100%;height: 100%;background-color: deeppink">
    <div style="position: relative;width: 40%;height: 40%;top: 30%;left: 30%;background-color: #1b6d85">
        <div class="container-fluid login-head">

        </div>
        <div class="container-fluid login-body">
            <div class="row">
                <div class="col-md-12">
                    <div class="input-group">
                        <span class="input-group-addon" id="basic-addon1">账号</span>
                        <input id="account" type="text" class="form-control" placeholder="请输入你的账号" aria-describedby="basic-addon1">
                    </div>
                </div>
            </div>
            <div class="row" style="margin-top: 20px">
                <div class="col-md-12">
                    <div class="input-group">
                        <span class="input-group-addon" id="basic-addon2">密码</span>
                        <input type="text" id="password" class="form-control" placeholder="请输入你的密码" aria-describedby="basic-addon1">
                    </div>
                </div>
            </div>
            <div class="row" style="text-align: center;margin-top: 20px">
                <button class="btn btn-success btn-group btn-group-lg" role="group" type="button" id="login">登陆</button>
            </div>
        </div>
        <div class="container-fluid login-foot"></div>
    </div>
</div>
</body>

<script type="text/javascript">
    $(document).ready(function () {
        $("#login").on("click",function () {
            let account = $("#account").val();
            let password = $("#password").val();
            if(account == null || account == ""){
                alert("账号不能为空");
                return;
            }

            if(password == null || password == ""){
                alert("密码不能为空");
                return;
            }

            $.ajax({
                type:"get",
                url:"/user/login?account="+account+"&password="+password,
                data:null,
                async: false,
                success:function(response){
                    var code = response.code;
                    if(code == 200){
                        let user = response.data;
                        storage.typeJson.putJson(KEY_USER,user);

                        window.location.href = "/index.html";
                    }else {
                        alert("登陆失败，请重新登陆");
                    }

                },
                error:function(response){

                }
            });


        })
    });
</script>
</html>